{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./inventory.service\";\nexport let CartService = /*#__PURE__*/(() => {\n  class CartService {\n    constructor(inventoryService) {\n      this.inventoryService = inventoryService;\n      this.cartItems = [];\n      this.inventoryService.populatedList$.subscribe(response => {\n        // console.log(response);\n        this.products = response;\n      });\n    }\n\n    addToCart(product) {\n      if (this.cartItems.find(product => product.qty !== 0) && this.products.find(i => i.stock > 0 && i.id == product.id)) {\n        let index = this.products.indexOf(product);\n        this.products[index].stock--;\n        this.cartItems.find(product => product.qty++);\n      } else {\n        if (this.products.find(i => i.stock > 0 && i.id == product.id)) {\n          let index = this.products.indexOf(product);\n          this.products[index].stock--;\n          this.products[index].qty++;\n          this.cartItems.push(product);\n        }\n      }\n\n      window.alert('product added');\n      console.log(this.products);\n      console.log(this.cartItems);\n    }\n\n    removeFromCart(product) {\n      if (this.products.find(i => i.id == product.id)) {\n        console.log('remove if successful');\n        let index = this.cartItems.indexOf(product);\n        this.products[index].stock++;\n        this.products[index].qty--;\n        console.log(this.cartItems);\n        this.cartItems.splice(index, 1);\n      }\n\n      window.alert('product removed');\n      console.log(this.products);\n      console.log(this.cartItems);\n    }\n\n    getCartItems() {\n      return this.cartItems;\n    }\n\n  }\n\n  CartService.ɵfac = function CartService_Factory(t) {\n    return new (t || CartService)(i0.ɵɵinject(i1.InventoryService));\n  };\n\n  CartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CartService,\n    factory: CartService.ɵfac\n  });\n  return CartService;\n})();","map":null,"metadata":{},"sourceType":"module"}